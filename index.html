<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        let playerScore = 0
        let compScore = 0

        function playRound () {
            const compSelectionArray = ["Rock", "Paper", "Scissors"]
            let randomArrayNumber = Math.floor(Math.random() * compSelectionArray.length); //This selects a random number between 0 and the lenght of the array and saves
            var compSelection = compSelectionArray[randomArrayNumber] //This selects the array item that correlates with the random number generated above
            var compSelection = compSelection.toUpperCase();
            console.log(compSelection);

            var playerSelection = prompt("What's your play... Rock, Paper or Scissors?");
            var playerSelection = playerSelection.toUpperCase();
            
            // Player has been prompted to select their entry which is then converted to ALLCAPS to remove any error for different capitalisations not matching//

            if (((playerSelection !== "ROCK") && (playerSelection !== "PAPER") && (playerSelection !== "SCISSORS"))) {
                alert("You must enter Rock, Paper or Scissors") //If the user enters anything other than rock, paper or scissors, this will throw an alert//
            }
            
            if (playerSelection === compSelection) {   
                console.log("TIE!");
            } else if (compSelection === "ROCK" && playerSelection === "PAPER"){
                console.log("You Win!");
                playerScore ++;
            } else if (compSelection === "ROCK" && playerSelection === "SCISSORS"){
                console.log("You lose!");
                compScore ++;
            } else if (compSelection === "PAPER" && playerSelection === "SCISSORS"){
                console.log("You Win!");
                playerScore ++;
            } else if (compSelection === "PAPER" && playerSelection === "ROCK"){
                console.log("You lose!");
                compScore ++;
            } else if (compSelection === "SCISSORS" && playerSelection === "ROCK"){
                console.log("You Win!");
                playerScore ++;
            } else {
                console.log ("You Lose")
            }
            console.log ("Player Score: " + playerScore, "Computer Score: " + compScore)
        }

        playRound();
        playRound();
        playRound();
        playRound();
        playRound();

        let result = undefined;

        if (playerScore === compScore) {
            console.log ("It's a TIE")
            let result = 1
        } else if (playerScore > compScore) {
            console.log ("You Win!")
            let results = 2
        } else {
            console.log ("You lose, sorry!")
            let result = 3
        }
        
        // A function(?) that allows for a new game with a prompt depending on the outcome of the prev game

        if (result === 1) {
            playAgain = prompt("You Tied! There can only be one winner...Try again? Y/N")            
        }
        else if (result === 2) {
            playAgain = prompt("You Won! Congratulations, would you like to play again? Y/N")
        }
        else if (result === 3) {
            playAgain = prompt("You Lost, unlucky... Try Agin? Y/N")
        }
        else {
            alert ("Hmm something went wrong, hit refresh")
        }

        // A new function(?) that starts a new game or not depending on the user entering y or n into playAgain
        
        let playAgain = playAgain.toUpperCase();
        if (playAgain === "Y") {
            playRound()
            playRound()
            playRound()
            playRound()
            playRound()
        }else {
            alert("Thanks for playing, hit refresh to start again")
        }

        // Current problems... throws the result = 3 error EVERYTIME, WHY? 

    </script>


</body>
</html>