<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="scoreContainer">
        <p class="pScore"> Player Score: </p>
        <p class="cScore"> Computer Score: </p>
    </div>
    <div class="roundCounter"> Round 1 of 5</div>
    <div class="roundWinner"></div>
    <div class="btnContainer">
        <button id="rockBtn">Rock</button>
        <button id="paperBtn">Paper</button>
        <button id="scissorsBtn">Scissors</button>
    </div>



    <script>

        let playerScore = 0;
        let compScore = 0;
        let playerScoreTotal = 0;
        let compScoreTotal = 0;
        let playerSelection = "";
        let roundOutcome = "";
        let compSelection = "";
        let roundCount = 0;
        const pScore = document.querySelector(".pScore");
        const cScore = document.querySelector(".cScore");
        const roundDisplay = document.querySelector(".roundCounter");
        const roundWinner = document.querySelector(".roundWinner");

        function computerSelect(){
            const compSelectionArray = ["ROCK", "PAPER", "SCISSORS"]
            let randomArrayNumber = Math.floor(Math.random() * compSelectionArray.length); //This selects a random number between 0 and the lenght of the array and saves
            compSelection = compSelectionArray[randomArrayNumber]; //This selects the array item that correlates with the random number generated above
            return compSelection;
            
        };
    
        
        function playRound(){
        // for(let i=0;i>5;i++){ (SHOULD loop this function 5 times but not working (dont forget to add } at end of loop!))

        if (playerSelection === compSelection) {   
            roundWinner.textContent = "TIE!";
        } else if (compSelection === "ROCK" && playerSelection === "PAPER"){
            roundWinner.textContent = "Nice! You won this turn";
            playerScore ++;
        } else if (compSelection === "ROCK" && playerSelection === "SCISSORS"){
            roundWinner.textContent = "Lose! Try Again";
            compScore ++;
        } else if (compSelection === "PAPER" && playerSelection === "SCISSORS"){
            roundWinner.textContent = "Nice! You won this turn";
            playerScore ++;
        } else if (compSelection === "PAPER" && playerSelection === "ROCK"){
            roundWinner.textContent = "Lose! Try Again";
            compScore ++;
        } else if (compSelection === "SCISSORS" && playerSelection === "ROCK"){
            roundWinner.textContent = "Nice! You won this turn";
            playerScore ++;
        } else {
            roundWinner.textContent = "Lose! Try Again"
        };
        if ((roundCount === 5) && (playerScore > compScore)) {
            roundCount = 0;    
            console.log("Player wins this round"); 
            playerScoreTotal ++; 
            pScore.textContent = "Player Score: " + playerScoreTotal; 

        } else if ((roundCount === 5) && (playerScore < compScore)){
            roundCount = 0; 
            console.log("You lost this round");
            compScoreTotal ++;
            cScore.textContent = "Computer Score: " + compScoreTotal;
            
        } else if ((roundCount === 5) && (playerScore === compScore)){
            roundCount = 0; 
            console.log("TIE")};
        
        console.log (playerSelection, compSelection,"Player Score: " + playerScore, "Computer Score: " + compScore); 
        };
       

        let result = 0;
        
       

       
    // Event listeners for the buttons that call the playRound function with the correct selection

    
        const rockBtn = document.querySelector('#rockBtn');
        rockBtn.addEventListener('click', () => {
            roundCount ++
            playerSelection = "ROCK";
            roundDisplay.textContent = `Round ${+roundCount} of 5`
            computerSelect();
            playRound();
            console.log(roundCount)

            
            
        });
        const paperBtn = document.querySelector('#paperBtn');
        paperBtn.addEventListener('click', () => {
            roundCount ++
            playerSelection = "PAPER";
            roundDisplay.textContent = `Round ${+roundCount} of 5`
            computerSelect();
            playRound();
            
        })
        const scissorsBtn = document.querySelector('#scissorsBtn');
        scissorsBtn.addEventListener('click', () => {
            roundCount ++
            playerSelection = "SCISSORS";
            roundDisplay.textContent = `Round ${+roundCount} of 5`
            computerSelect();
            playRound() ;
            
        })

    </script>

</body>
</html>